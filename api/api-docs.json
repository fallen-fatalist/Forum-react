{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/drivers/admin":{"get":{"tags":["User CRUD"],"summary":"Получить список всех пользователей","operationId":"findAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}},"put":{"tags":["User CRUD"],"summary":"Обновить запись о пользователе.","operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"post":{"tags":["User CRUD"],"summary":"Сохранить запись о пользователе","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/pay/{email}":{"post":{"tags":["Оплата"],"summary":"Оплата","operationId":"pay","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/forgot-password/reset-password":{"post":{"tags":["Смена пароля"],"summary":"Сменить пароль","operationId":"resetPassword","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string"}},{"name":"newPassword","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/forgot-password/request-password-reset":{"post":{"tags":["Смена пароля"],"summary":"Запросить смену пароля","operationId":"requestPasswordReset","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/auth/sign-up":{"post":{"tags":["Аутентификация"],"summary":"Регистрация","operationId":"signUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/auth/sign-in":{"post":{"tags":["Аутентификация"],"summary":"Вход","operationId":"signIn","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JwtAuthenticationResponse"}}}}}}},"/admin/import-users":{"post":{"tags":["user-import-controller"],"summary":"Импортировать пользователей из Excel файла","operationId":"importUsers","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/drivers/admin/{userId}":{"patch":{"tags":["User CRUD"],"summary":"Изменить запись о пользователе.","operationId":"updateUser_1","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/auth/confirm":{"get":{"tags":["Аутентификация"],"summary":"Подтверждение почты","operationId":"verify","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/drivers/get-admin":{"get":{"tags":["User CRUD"],"summary":"Получить роль ADMIN","operationId":"getAdmin","responses":{"200":{"description":"OK"}}}},"/api/v1/drivers/admin/{email}":{"get":{"tags":["User CRUD"],"summary":"Найти запись о пользователе с помощью электронной почты","operationId":"findUserByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"delete":{"tags":["User CRUD"],"summary":"Удалить запись о пользователе.","operationId":"deleteUser","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"role":{"type":"string","enum":["ROLE_ADMIN","ROLE_DEFAULT","ROLE_PAID"]},"enabled":{"type":"boolean"},"verificationCode":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"}}},"SignUpRequest":{"required":["email","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":4,"type":"string","description":"Имя пользователя","example":"John"},"email":{"maxLength":255,"minLength":5,"type":"string","description":"Адрес электронной почты","example":"johndoe@gmail.com"},"password":{"maxLength":255,"minLength":8,"type":"string","description":"Пароль","example":"password123"}},"description":"Запрос на регистрацию"},"SignInRequest":{"required":["password","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":5,"type":"string","description":"Имя пользователя","example":"John"},"password":{"maxLength":255,"minLength":8,"type":"string","description":"Пароль","example":"password123"}},"description":"Запрос на аутентификацию"},"JwtAuthenticationResponse":{"type":"object","properties":{"token":{"type":"string","description":"Токен доступа"}},"description":"Ответ c токеном доступа"}}}}